# Organization概念追加

## Question
シェルフより上位にOrganizationという概念を追加したい。ユーザーとOrganizationは多対多の関係で、プラン（Private/Team）によって機能が異なる。

## Answer
4階層構造（Organization > シェルフ > ブック > ページ）に変更し、以下の機能を追加した。

### プラン区分
| 区分 | 招待 | 所有者委譲 | シェルフ公開 |
|------|------|----------|-------------|
| Private | 不可 | 不可 | 可 |
| Team | 可 | 可 | 可 |

### シェルフ単位の権限
| ロール | シェルフ操作 | ブック操作 | ページ操作 |
|--------|-------------|-----------|-----------|
| 所有者 | 削除可、設定変更可 | 追加・削除可、保護設定可 | 全操作可 |
| 編集者 | 削除不可 | 追加・削除可（保護時は不可） | 編集可（保護時は不可） |
| 閲覧者 | 閲覧のみ | 閲覧のみ | 閲覧のみ |

### ブック保護機能
- **削除保護**: 編集者によるブック削除を禁止
- **編集保護**: 編集者は配下ページを閲覧のみ

### 可視性制御
- シェルフ単位: 所有者が設定
- ブック単位: 編集者以上が設定（シェルフの可視性が上限）

## 補足
- PrivateプランでもOrganizationは作成される（1ユーザー1Org）
- 既存のシェルフ共有機能は維持
- Organization外のユーザーへのシェルフ共有も可能

## 変更ファイル
- `docs/02_requirements/01_outline.md`
- `docs/02_requirements/02_list.md`
- `docs/03_design/01_screen_list.md`
- `docs/03_design/03_screen_transitions.md`
- `docs/03_design/06_screen_layout/AUTH-002_first_login.html`
